"use strict";(globalThis.webpackChunkfirst_example=globalThis.webpackChunkfirst_example||[]).push([[6135],{22768:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"user-guide/adapter/gettingStartedCamunda8","title":"Getting Started with Camunda 8","description":"In this article, the set-up of the Adapter is explained step by step. Additionally, you can try out","source":"@site/docs/user-guide/adapter/gettingStartedCamunda8.md","sourceDirName":"user-guide/adapter","slug":"/user-guide/adapter/gettingStartedCamunda8","permalink":"/kadai-doc/docs/user-guide/adapter/gettingStartedCamunda8","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"userSidebar","previous":{"title":"Getting Started with Camunda 7","permalink":"/kadai-doc/docs/user-guide/adapter/gettingStartedCamunda7"},"next":{"title":"Architecture","permalink":"/kadai-doc/docs/user-guide/adapter/architecture"}}');var i=n(74848),r=n(28453),s=n(35530),o=n(28774);const d={sidebar_position:1},c="Getting Started with Camunda 8",l={},p=[{value:"What you&#39;ll need",id:"what-youll-need",level:2},{value:"Step 0 (optional): Download and start C8 run",id:"step-0-optional-download-and-start-c8-run",level:2},{value:"Step 1: Initialize an empty Adapter application",id:"step-1-initialize-an-empty-adapter-application",level:2},{value:"Step 2: Configure your Adapter application",id:"step-2-configure-your-adapter-application",level:2},{value:"application.properties",id:"applicationproperties",level:3},{value:"Step 3: Add SPIs to your Adapter application",id:"step-3-add-spis-to-your-adapter-application",level:2},{value:"Step 4: Start all applications together",id:"step-4-start-all-applications-together",level:2},{value:"Step 5: Try out different functionalities of Adapter",id:"step-5-try-out-different-functionalities-of-adapter",level:2}];function u(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"getting-started-with-camunda-8",children:"Getting Started with Camunda 8"})}),"\n",(0,i.jsx)(a.p,{children:"In this article, the set-up of the Adapter is explained step by step. Additionally, you can try out\nsome of the functionalities of the Adapter following the instructions in this article."}),"\n","\n",(0,i.jsx)(a.h2,{id:"what-youll-need",children:"What you'll need"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["An IDE of your choice (",(0,i.jsx)(a.a,{href:"https://www.jetbrains.com/idea/",children:"IntelliJ"})," recommended)"]}),"\n",(0,i.jsx)(a.li,{children:"Java 17"}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"https://maven.apache.org/",children:"Maven"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"https://camunda.com/de/download/modeler/",children:"Camunda Modeler Version >= 5.40.0"})}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"https://www.postgresql.org/",children:"Postgres"})," or ",(0,i.jsx)(a.a,{href:"https://www.docker.com/",children:"Docker"})," (to set up postgres\ndatabase)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"https://www.postman.com/",children:"Postman"})," or any similar tool for creating API requests"]}),"\n",(0,i.jsxs)(a.li,{children:["Working KADAI application (e.g. see our\nSpring-Boot-Example ",(0,i.jsx)(a.a,{href:"/kadai-doc/docs/user-guide/getting-started/exampleSpringBoot",children:"here"}),")"]}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Note: Please name your packages, folders and files exactly like in the example!"}),"\n",(0,i.jsx)(a.h2,{id:"step-0-optional-download-and-start-c8-run",children:"Step 0 (optional): Download and start C8 run"}),"\n",(0,i.jsxs)(a.p,{children:["If you don't have a Camunda 8 application that you could use for experimenting with the Adapter,\ninstall a new application. You can use C8 run for\nthis. ",(0,i.jsx)(a.a,{href:"https://downloads.camunda.cloud/release/camunda/c8run/",children:"Download"})," a version >= 8.8.0 of C8\nrun.\nUse ",(0,i.jsx)(a.a,{href:"https://docs.camunda.io/docs/self-managed/quickstart/developer-quickstart/c8run/#install-and-start-camunda-8-run",children:"this guide"}),"\nto start C8 run. Make sure to use\nthe ",(0,i.jsx)(a.a,{href:"https://docs.camunda.io/docs/self-managed/quickstart/developer-quickstart/c8run/#shut-down-camunda-8-run",children:"shutdown script"}),"\nwhen stopping C8 run. You can check whether C8 run is running properly by logging in to\n",(0,i.jsx)(a.code,{children:"http://localhost:8081/operate"})," with username and password ",(0,i.jsx)(a.code,{children:"demo"}),"."]}),"\n",(0,i.jsx)(a.h2,{id:"step-1-initialize-an-empty-adapter-application",children:"Step 1: Initialize an empty Adapter application"}),"\n",(0,i.jsx)(a.admonition,{type:"info",children:(0,i.jsxs)(a.p,{children:["You can skip steps 1-3 if you want to use our example Adapter application. You can find it\nin ",(0,i.jsx)(a.a,{href:"https://github.com/kadai-io/KadaiAdapter/tree/master/kadai-adapter-camunda-8-spring-boot-example/src/main/java/io/kadai/adapter/KadaiAdapterApplicationC8.java",children:"our GitHub repository"}),"."]})}),"\n",(0,i.jsxs)(a.p,{children:["Use\nthis ",(0,i.jsx)(a.a,{href:"https://start.spring.io/#!type=maven-project&language=java&platformVersion=3.4.2&packaging=jar&jvmVersion=17&groupId=com.example&artifactId=demo&name=demo&description=Demo%20project%20for%20Spring%20Boot&packageName=com.example.demo&dependencies=",children:"Spring Initializr-Configuration"}),"\nto create an example Maven Project.\nIt is already configured to our needs, you can simply click ",(0,i.jsx)(a.code,{children:"GENERATE"}),"."]}),"\n",(0,i.jsx)(a.p,{children:"Unpack the project and open it in an IDE of your choice. Your project-structure should look like\nbelow:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"demo\n\u251c\u2500\u2500\u2500.mvn\n\u2502   \u2514\u2500\u2500\u2500wrapper\n\u251c\u2500\u2500\u2500src\n\u2502   \u251c\u2500\u2500\u2500main\n\u2502   \u2514\u2500\u2500\u2500test\n\u2502   .gitignore\n\u2502   HELP.md\n\u2502   mvnw\n\u2502   mvnw.cmd\n\u2502   pom.xml\n"})}),"\n",(0,i.jsx)(a.h2,{id:"step-2-configure-your-adapter-application",children:"Step 2: Configure your Adapter application"}),"\n",(0,i.jsx)(a.p,{children:"Add the following dependencies to the dependencies section of your pom (if they don't already\nexist):"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-xml",metastring:'title="pom.xml"',children:"\n<dependencies>\n  <dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n  </dependency>\n  <dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n  </dependency>\n  <dependency>\n    <groupId>io.kadai</groupId>\n    <artifactId>kadai-adapter</artifactId>\n    <version>11.1.0</version>\n  </dependency>\n  <dependency>\n    <groupId>io.kadai</groupId>\n    <artifactId>kadai-adapter-camunda-8-system-connector</artifactId>\n    <version>11.1.0</version>\n  </dependency>\n  <dependency>\n    <groupId>io.kadai</groupId>\n    <artifactId>kadai-adapter-kadai-connector</artifactId>\n    <version>11.1.0</version>\n  </dependency>\n  <dependency>\n    <groupId>org.postgresql</groupId>\n    <artifactId>postgresql</artifactId>\n  </dependency>\n</dependencies>\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Add the following annotations to your ",(0,i.jsx)(a.code,{children:"AdapterApplication"}),", and import the packages correspondingly:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",metastring:'title="src/main/com/example/demo/AdapterApplication.java"',children:'@EnableScheduling\n@ComponentScan(basePackages = "io.kadai.adapter")\n@Import({AdapterConfiguration.class})\n'})}),"\n",(0,i.jsx)(a.p,{children:"Add the following files to your resources folder:"}),"\n",(0,i.jsx)(a.h3,{id:"applicationproperties",children:"application.properties"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-properties",metastring:'title="src/main/resources/application.properties"',children:"######################################################################################\n## Adapter properties\n######################################################################################\n##\nlogging.level.io.kadai=WARN\n## Set Server Port for Adapter\nserver.port=18082\nspring.main.allow-bean-definition-overriding=true\nkadai.adapter.run-as.user=taskadmin\nkadai.adapter.scheduler.run.interval.for.start.kadai.tasks.in.milliseconds=10000\nkadai.adapter.scheduler.run.interval.for.complete.referenced.tasks.in.milliseconds=10000\nkadai.adapter.scheduler.run.interval.for.claim.referenced.tasks.in.milliseconds=10000\nkadai.adapter.scheduler.run.interval.for.cancel.claim.referenced.tasks.in.milliseconds=10000\nkadai.adapter.scheduler.run.interval.for.check.finished.referenced.tasks.in.milliseconds=10000\n####################################################################################\n# Kadai-connector properties\n####################################################################################\n#\n# Configure the datasource for Kadai DB (used by kadai-connector)\nkadai.adapter.events.lockDuration=300\nkadai.adapter.sync.kadai.batchSize=1\nkadai.datasource.jdbcUrl=jdbc:postgresql://localhost:5102/postgres\nkadai.datasource.driverClassName=org.postgresql.Driver\nkadai.datasource.username=postgres\nkadai.datasource.password=postgres\nkadai.schemaName=kadai\nkadai.adapter.mapping.default.objectreference.company=DEFAULT_COMPANY\nkadai.adapter.mapping.default.objectreference.system=DEFAULT_SYSTEM\nkadai.adapter.mapping.default.objectreference.system.instance=DEFAULT_SYSTEM_INSTANCE\nkadai.adapter.mapping.default.objectreference.type=DEFAULT_TYPE\nkadai.adapter.mapping.default.objectreference.value=DEFAULT_VALUE\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nmanagement.health.external-services.enabled=true\n####################################################################################\n# Camunda 8 properties\n####################################################################################\ncamunda.client.mode=self-managed\ncamunda.client.auth.token-url=http://localhost:18080/auth/realms/camunda-platform/protocol/openid-connect/token\ncamunda.client.zeebe.enabled=true\ncamunda.client.zeebe.rest-address=http://localhost:8081\ncamunda.client.zeebe.grpc-address=http://localhost:26500\ncamunda.client.zeebe.audience=zeebe-api\nkadai.adapter.plugin.camunda8.system-url=http://localhost:26500\nkadai.adapter.plugin.camunda8.cluster-api-url=http://localhost:8081\n#avoid warning logs if a job worker does not fetch jobs frequently enough\nlogging.level.io.camunda.client.job.poller=ERROR\n#for health-tests\nkadai-system-connector-camundaSystemURLs=http://localhost:8081|http://localhost:8081\n"})}),"\n",(0,i.jsx)(a.h2,{id:"step-3-add-spis-to-your-adapter-application",children:"Step 3: Add SPIs to your Adapter application"}),"\n",(0,i.jsxs)(a.p,{children:["SPIs need to be additionally specified in the Adapter application. You can read more about\nSPIs ",(0,i.jsx)(a.a,{href:"/kadai-doc/docs/user-guide/features/howToUseServiceProviderInterfaces",children:"here"}),".\nThe necessary SPI for the Adapter application can be built as follows: First, create a new package\nwith the name ",(0,i.jsx)(a.code,{children:"taskrouting"}),".\nThen, create a class in the package ",(0,i.jsx)(a.code,{children:"taskrouting"})," with the name ",(0,i.jsx)(a.code,{children:"ExampleTaskRouter"}),". It should look\nlike this:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",metastring:'title="src/main/com/example/demo/taskrouting/ExampleTaskRouter.java"',children:'package com.example.demo.taskrouting; //or your own path depending on your packages\n\nimport io.kadai.common.api.KadaiEngine;\nimport io.kadai.spi.routing.api.TaskRoutingProvider;\nimport io.kadai.task.api.models.Task;\n\n/** This is a sample implementation of TaskRouter. */\npublic class ExampleTaskRouter implements TaskRoutingProvider {\n\n  @Override\n  public void initialize(KadaiEngine kadaiEngine) {\n    // no-op\n  }\n\n  @Override\n  public String determineWorkbasketId(Task task) {\n    return "WBI:100000000000000000000000000000000001";\n  }\n}\n'})}),"\n",(0,i.jsxs)(a.p,{children:["Next, add a new folder to your resources folder and name it ",(0,i.jsx)(a.code,{children:"META-INF"}),".\nCreate a new folder named ",(0,i.jsx)(a.code,{children:"services"})," inside of the folder ",(0,i.jsx)(a.code,{children:"META-INF"}),".\nFinally, in the ",(0,i.jsx)(a.code,{children:"services"})," folder, create a file named\n",(0,i.jsx)(a.code,{children:"io.kadai.spi.routing.api.TaskRoutingProvider"}),".\nThis file must contain the fully qualified classname (including the package) of the class\n",(0,i.jsx)(a.code,{children:"ExampleTaskRouter"}),", for example:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"com.example.demo.taskrouting.ExampleTaskRouter\n"})}),"\n",(0,i.jsx)(a.p,{children:"Make sure there aren't any empty lines in this file.\nThe finished structure of the source folder should look like this:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"demo\n\u251c\u2500\u2500\u2500.mvn\n\u251c\u2500\u2500\u2500src\n\u2502   \u251c\u2500\u2500\u2500main\n\u2502   \u2502   \u251c\u2500\u2500\u2500java\n\u2502   \u2502   \u2502   \u2514\u2500\u2500\u2500com\n\u2502   \u2502   \u2502       \u2514\u2500\u2500\u2500example\n\u2502   \u2502   \u2502           \u2514\u2500\u2500\u2500adapter\n\u2502   \u2502   \u2502               \u2502\u2500\u2500\u2500taskrouting\n\u2502   \u2502   \u2502               \u2502       ExampleTaskRouter.java\n\u2502   \u2502   \u2502               \u2502\u2500\u2500\u2500AdapterApplication.java\n\u2502   \u2502   \u2514\u2500\u2500\u2500resources\n\u2502   \u2502       \u2502\u2500\u2500\u2500META-INF.services\n\u2502   \u2502               io.kadai.spi.routing.api.TaskRoutingProvider\n\u2502   \u2502       \u2502\u2500\u2500\u2500application.properties\n\u2502   \u2502       \u2502\u2500\u2500\u2500kadai.properties\n\u2502   ...\n\u2502   pom.xml\n"})}),"\n",(0,i.jsx)(a.h2,{id:"step-4-start-all-applications-together",children:"Step 4: Start all applications together"}),"\n",(0,i.jsx)(a.p,{children:"Then, start your KADAI application together with Postgres. Make sure to use the same version as\nspecified in the pom.xml of your adapter.\nStart your camunda app next, and login.\nLast, start the adapter."}),"\n",(0,i.jsx)(a.h2,{id:"step-5-try-out-different-functionalities-of-adapter",children:"Step 5: Try out different functionalities of Adapter"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Start a process with a User Task in Camunda. You can use this example process:"}),"\n",(0,i.jsx)("div",{className:s.A.buttons,children:(0,i.jsx)(o.A,{className:"button button--secondary button--lg",children:(0,i.jsx)("a",{className:"button button--secondary button--lg",href:n(64803).A,download:!0,target:"_blank",children:"Download example process "})})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(a.p,{children:["Or find it\nin ",(0,i.jsx)(a.a,{href:"https://github.com/kadai-io/KadaiAdapter/tree/master/kadai-adapter-camunda-8-system-connector/src/test/resources/processes/sayHello.bpmn",children:"our GitHub repository"}),'.\nOpen the diagram in the Camunda Modeler and click on "file deployment" (Rocket sign in the lower\nleft corner). Here, you can connect to your Camunda 8 instance by entering\n',(0,i.jsx)(a.code,{children:"http://localhost:26500"})," as the Cluster endpoint:"]}),"\n",(0,i.jsx)("img",{src:n(76960).A,alt:"deploy_diagram.png",style:{maxWidth:"480px"}}),"\n",(0,i.jsx)(a.p,{children:'After connecting, you can deploy the process by clicking on "Deploy BPMN". Next, start a new\ninstance\nby clicking on "Open start instance" (Play sign in the lower left corner) and then "Start BPMN\nprocess instance":'}),"\n",(0,i.jsx)("img",{src:n(28902).A,alt:"run_diagram.png",style:{maxWidth:"480px"}}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:'The User Task should be imported to KADAI automatically. You can check it by first knowing\nthe\nname of the user task from the started process, then make a postgres GET request to KADAI\nusing\nthe following request, entering the name (or just substring of the name) of the user task for\nthe "name-like" attribute.'}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"GET http://localhost:8080/kadai/api/v1/tasks?name-like=Say hello\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Make sure that the correct port number is used for KADAI request.\nYou can check the port number in ",(0,i.jsx)(a.code,{children:"application.properties"})," of KADAI under ",(0,i.jsx)(a.code,{children:"server.port"}),".\nIf not specified, then the default port is ",(0,i.jsx)(a.code,{children:"8080"}),'.\nYou have to authenticate yourself using Basic Auth:\nIn Postman, go to the "Authorization" tab.\nThere, select ',(0,i.jsx)(a.code,{children:"basicAuth"})," and type ",(0,i.jsx)(a.code,{children:"admin"})," as user and ",(0,i.jsx)(a.code,{children:"admin"})," as password.\nMake sure ",(0,i.jsx)(a.code,{children:"enableCsrf"})," is set to false in the ",(0,i.jsx)(a.code,{children:"application.properties"})," of the KADAI\napplication."]}),"\n",(0,i.jsx)(a.p,{children:"The response to the request should look like this:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-json",children:'{\n   "tasks": [\n   {\n   "taskId": "TKI:f807830a-44e2-4c50-9f35-43dd945e2b31",\n   "externalId": "c8sysid-0-utk-2251799813691243",\n   "created": "2025-10-24T09:50:59.867Z",\n   "claimed": null,\n   "completed": null,\n   "modified": "2025-10-24T09:50:59.867Z",\n   "planned": "2025-12-02T11:00:00Z",\n   "received": null,\n   "due": "2025-12-22T10:59:59.999Z",\n   "name": "Say Hello Task",\n   "creator": "taskadmin"\n   }\n   , ...\n   ], \n  ...\n   }\n'})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:["Claim the KADAI Task from the previous step using Postman. Make sure you add the following\nproperty to the ",(0,i.jsx)(a.code,{children:"application.properties"})," file of the adapter application:\n",(0,i.jsx)(a.code,{children:"kadai.adapter.camunda.claiming.enabled=true"}),", then restart the adapter. To send the POST\nrequest, use the same authorization as in the previous step. The Task should get claimed in\nCamunda automatically."]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"POST http://localhost:8080/kadai/api/v1/tasks/{taskid}/claim\n"})}),"\n",(0,i.jsxs)(a.p,{children:["You can check that the task in KADAI is also claimed by making the same GET Request as in Step 1\nand see the ",(0,i.jsx)(a.code,{children:"claimed"})," attribute."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Complete the KADAI Task from the previous step using Postman. To send the POST request, use the\nsame authorization as in the previous step. The Task should disappear from Camunda Tasklist."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"POST http://localhost:8080/kadai/api/v1/tasks/{taskid}/complete\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Now check in ",(0,i.jsx)(a.a,{href:"http://localhost:8081/operate/",children:"Camunda Operate"})," that the task is completed."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(a.p,{children:["More functionalities like the cancelling of a claimed task and their URLs can be found in\nthe ",(0,i.jsx)(a.a,{href:"https://kadai-io.azurewebsites.net/kadai/swagger-ui/index.html",children:"full documentation of the REST-API"}),"."]})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>o});var t=n(96540);const i={},r=t.createContext(i);function s(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:a},e.children)}},28902:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/run_diagram-e0a8bed6c99972809cb65013fe10fef9.png"},35530:(e,a,n)=>{n.d(a,{A:()=>t});const t={features:"features_t9lD",featureBox:"featureBox_LvN1",featureSvg:"featureSvg_GfXr",featureText:"featureText_ZxAV"}},64803:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/files/sayHello-d0b51c88c322671f4ee2da5a12845ad5.zip"},76960:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/deploy_diagram-1cebe3f3e60dea59c6bf2c4c0a544ed7.png"}}]);